<?php
$timezone_arr['Pacific/Midway']='(UTC-11:00) Midway Island';
$timezone_arr['Pacific/Samoa']='(UTC-11:00) Samoa';
$timezone_arr['Pacific/Honolulu']='(UTC-10:00) Hawaii';
$timezone_arr['US/Alaska']='(UTC-09:00) Alaska';
$timezone_arr['America/Los_Angeles']='(UTC-08:00) Pacific Time (US &amp; Canada)';
$timezone_arr['America/Tijuana']='(UTC-08:00) Tijuana';
$timezone_arr['US/Arizona']='(UTC-07:00) Arizona';
$timezone_arr['America/Chihuahua']='(UTC-07:00) Chihuahua';
$timezone_arr['America/Chihuahua']='(UTC-07:00) La Paz';
$timezone_arr['America/Mazatlan']='(UTC-07:00) Mazatlan';
$timezone_arr['US/Mountain']='(UTC-07:00) Mountain Time (US &amp; Canada)';
$timezone_arr['America/Managua']='(UTC-06:00) Central America';
$timezone_arr['US/Central']='(UTC-06:00) Central Time (US &amp; Canada)';
$timezone_arr['America/Mexico_City']='(UTC-06:00) Guadalajara';
$timezone_arr['America/Mexico_City']='(UTC-06:00) Mexico City';
$timezone_arr['America/Monterrey']='(UTC-06:00) Monterrey';
$timezone_arr['Canada/Saskatchewan']='(UTC-06:00) Saskatchewan';
$timezone_arr['America/Bogota']='(UTC-05:00) Bogota';
$timezone_arr['US/Eastern']='(UTC-05:00) Eastern Time (US &amp; Canada)';
$timezone_arr['US/East-Indiana']='(UTC-05:00) Indiana (East)';
$timezone_arr['America/Lima']='(UTC-05:00) Lima';
$timezone_arr['America/Bogota']='(UTC-05:00) Quito';
$timezone_arr['Canada/Atlantic']='(UTC-04:00) Atlantic Time (Canada)';
$timezone_arr['America/Caracas']='(UTC-04:30) Caracas';
$timezone_arr['America/La_Paz']='(UTC-04:00) La Paz';
$timezone_arr['America/Santiago']='(UTC-04:00) Santiago';
$timezone_arr['Canada/Newfoundland']='(UTC-03:30) Newfoundland';
$timezone_arr['America/Sao_Paulo']='(UTC-03:00) Brasilia';
$timezone_arr['America/Argentina/Buenos_Aires']='(UTC-03:00) Buenos Aires';
$timezone_arr['America/Argentina/Buenos_Aires']='(UTC-03:00) Georgetown';
$timezone_arr['America/Godthab']='(UTC-03:00) Greenland';
$timezone_arr['America/Noronha']='(UTC-02:00) Mid-Atlantic';
$timezone_arr['Atlantic/Azores']='(UTC-01:00) Azores';
$timezone_arr['Atlantic/Cape_Verde']='(UTC-01:00) Cape Verde Is.';
$timezone_arr['Africa/Casablanca']='(UTC+00:00) Casablanca';
$timezone_arr['Europe/London']='(UTC+00:00) Edinburgh';
$timezone_arr['Etc/Greenwich']='(UTC+00:00) Greenwich Mean Time : Dublin';
$timezone_arr['Europe/Lisbon']='(UTC+00:00) Lisbon';
$timezone_arr['Europe/London']='(UTC+00:00) London';
$timezone_arr['Africa/Monrovia']='(UTC+00:00) Monrovia';
$timezone_arr['UTC']='(UTC+00:00) UTC';
$timezone_arr['Europe/Amsterdam']='(UTC+01:00) Amsterdam';
$timezone_arr['Europe/Belgrade']='(UTC+01:00) Belgrade';
$timezone_arr['Europe/Berlin']='(UTC+01:00) Berlin';
$timezone_arr['Europe/Berlin']='(UTC+01:00) Bern';
$timezone_arr['Europe/Bratislava']='(UTC+01:00) Bratislava';
$timezone_arr['Europe/Brussels']='(UTC+01:00) Brussels';
$timezone_arr['Europe/Budapest']='(UTC+01:00) Budapest';
$timezone_arr['Europe/Copenhagen']='(UTC+01:00) Copenhagen';
$timezone_arr['Europe/Ljubljana']='(UTC+01:00) Ljubljana';
$timezone_arr['Europe/Madrid']='(UTC+01:00) Madrid';
$timezone_arr['Europe/Paris']='(UTC+01:00) Paris';
$timezone_arr['Europe/Prague']='(UTC+01:00) Prague';
$timezone_arr['Europe/Rome']='(UTC+01:00) Rome';
$timezone_arr['Europe/Sarajevo']='(UTC+01:00) Sarajevo';
$timezone_arr['Europe/Skopje']='(UTC+01:00) Skopje';
$timezone_arr['Europe/Stockholm']='(UTC+01:00) Stockholm';
$timezone_arr['Europe/Vienna']='(UTC+01:00) Vienna';
$timezone_arr['Europe/Warsaw']='(UTC+01:00) Warsaw';
$timezone_arr['Africa/Lagos']='(UTC+01:00) West Central Africa';
$timezone_arr['Europe/Zagreb']='(UTC+01:00) Zagreb';
$timezone_arr['Europe/Athens']='(UTC+02:00) Athens';
$timezone_arr['Europe/Bucharest']='(UTC+02:00) Bucharest';
$timezone_arr['Africa/Cairo']='(UTC+02:00) Cairo';
$timezone_arr['Africa/Harare']='(UTC+02:00) Harare';
$timezone_arr['Europe/Helsinki']='(UTC+02:00) Helsinki';
$timezone_arr['Europe/Istanbul']='(UTC+02:00) Istanbul';
$timezone_arr['Asia/Jerusalem']='(UTC+02:00) Jerusalem';
$timezone_arr['Europe/Helsinki']='(UTC+02:00) Kyiv';
$timezone_arr['Africa/Johannesburg']='(UTC+02:00) Pretoria';
$timezone_arr['Europe/Riga']='(UTC+02:00) Riga';
$timezone_arr['Europe/Sofia']='(UTC+02:00) Sofia';
$timezone_arr['Europe/Tallinn']='(UTC+02:00) Tallinn';
$timezone_arr['Europe/Vilnius']='(UTC+02:00) Vilnius';
$timezone_arr['Asia/Baghdad']='(UTC+03:00) Baghdad';
$timezone_arr['Asia/Kuwait']='(UTC+03:00) Kuwait';
$timezone_arr['Europe/Minsk']='(UTC+03:00) Minsk';
$timezone_arr['Africa/Nairobi']='(UTC+03:00) Nairobi';
$timezone_arr['Asia/Riyadh']='(UTC+03:00) Riyadh';
$timezone_arr['Europe/Volgograd']='(UTC+03:00) Volgograd';
$timezone_arr['Asia/Tehran']='(UTC+03:30) Tehran';
$timezone_arr['Asia/Muscat']='(UTC+04:00) Abu Dhabi';
$timezone_arr['Asia/Baku']='(UTC+04:00) Baku';
$timezone_arr['Europe/Moscow']='(UTC+04:00) Moscow';
$timezone_arr['Asia/Muscat']='(UTC+04:00) Muscat';
$timezone_arr['Europe/Moscow']='(UTC+04:00) St. Petersburg';
$timezone_arr['Asia/Tbilisi']='(UTC+04:00) Tbilisi';
$timezone_arr['Asia/Yerevan']='(UTC+04:00) Yerevan';
$timezone_arr['Asia/Kabul']='(UTC+04:30) Kabul';
$timezone_arr['Asia/Karachi']='(UTC+05:00) Islamabad';
$timezone_arr['Asia/Karachi']='(UTC+05:00) Karachi';
$timezone_arr['Asia/Tashkent']='(UTC+05:00) Tashkent';
$timezone_arr['Asia/Calcutta']='(UTC+05:30) Chennai';
$timezone_arr['Asia/Kolkata']='(UTC+05:30) Kolkata';
$timezone_arr['Asia/Calcutta']='(UTC+05:30) Mumbai';
$timezone_arr['Asia/Calcutta']='(UTC+05:30) New Delhi';
$timezone_arr['Asia/Calcutta']='(UTC+05:30) Sri Jayawardenepura';
$timezone_arr['Asia/Katmandu']='(UTC+05:45) Kathmandu';
$timezone_arr['Asia/Almaty']='(UTC+06:00) Almaty';
$timezone_arr['Asia/Dhaka']='(UTC+06:00) Astana';
$timezone_arr['Asia/Dhaka']='(UTC+06:00) Dhaka';
$timezone_arr['Asia/Yekaterinburg']='(UTC+06:00) Ekaterinburg';
$timezone_arr['Asia/Rangoon']='(UTC+06:30) Rangoon';
$timezone_arr['Asia/Bangkok']='(UTC+07:00) Bangkok';
$timezone_arr['Asia/Bangkok']='(UTC+07:00) Hanoi';
$timezone_arr['Asia/Jakarta']='(UTC+07:00) Jakarta';
$timezone_arr['Asia/Novosibirsk']='(UTC+07:00) Novosibirsk';
$timezone_arr['Asia/Hong_Kong']='(UTC+08:00) Beijing';
$timezone_arr['Asia/Chongqing']='(UTC+08:00) Chongqing';
$timezone_arr['Asia/Hong_Kong']='(UTC+08:00) Hong Kong';
$timezone_arr['Asia/Krasnoyarsk']='(UTC+08:00) Krasnoyarsk';
$timezone_arr['Asia/Kuala_Lumpur']='(UTC+08:00) Kuala Lumpur';
$timezone_arr['Australia/Perth']='(UTC+08:00) Perth';
$timezone_arr['Asia/Singapore']='(UTC+08:00) Singapore';
$timezone_arr['Asia/Taipei']='(UTC+08:00) Taipei';
$timezone_arr['Asia/Ulan_Bator']='(UTC+08:00) Ulaan Bataar';
$timezone_arr['Asia/Urumqi']='(UTC+08:00) Urumqi';
$timezone_arr['Asia/Irkutsk']='(UTC+09:00) Irkutsk';
$timezone_arr['Asia/Tokyo']='(UTC+09:00) Osaka';
$timezone_arr['Asia/Tokyo']='(UTC+09:00) Sapporo';
$timezone_arr['Asia/Seoul']='(UTC+09:00) Seoul';
$timezone_arr['Asia/Tokyo']='(UTC+09:00) Tokyo';
$timezone_arr['Australia/Adelaide']='(UTC+09:30) Adelaide';
$timezone_arr['Australia/Darwin']='(UTC+09:30) Darwin';
$timezone_arr['Australia/Brisbane']='(UTC+10:00) Brisbane';
$timezone_arr['Australia/Canberra']='(UTC+10:00) Canberra';
$timezone_arr['Pacific/Guam']='(UTC+10:00) Guam';
$timezone_arr['Australia/Hobart']='(UTC+10:00) Hobart';
$timezone_arr['Australia/Melbourne']='(UTC+10:00) Melbourne';
$timezone_arr['Pacific/Port_Moresby']='(UTC+10:00) Port Moresby';
$timezone_arr['Australia/Sydney']='(UTC+10:00) Sydney';
$timezone_arr['Asia/Yakutsk']='(UTC+10:00) Yakutsk';
$timezone_arr['Asia/Vladivostok']='(UTC+11:00) Vladivostok';
$timezone_arr['Pacific/Auckland']='(UTC+12:00) Auckland';
$timezone_arr['Pacific/Fiji']='(UTC+12:00) Fiji';
$timezone_arr['Pacific/Kwajalein']='(UTC+12:00) International Date Line West';
$timezone_arr['Asia/Kamchatka']='(UTC+12:00) Kamchatka';
$timezone_arr['Asia/Magadan']='(UTC+12:00) Magadan';
$timezone_arr['Pacific/Fiji']='(UTC+12:00) Marshall Is.';
$timezone_arr['Asia/Magadan']='(UTC+12:00) New Caledonia';
$timezone_arr['Asia/Magadan']='(UTC+12:00) Solomon Is.';
$timezone_arr['Pacific/Auckland']='(UTC+12:00) Wellington';
$timezone_arr['Pacific/Tongatapu']='(UTC+13:00) Nuku\'alofa';
?>
<section class="content-header">
    <nav class="navbar navbar-default navbar-sub animated bounce">
        <a class="navbar-brand" href="<?php echo current_url();?>"><i class="fa fa-university color" aria-hidden="true"></i></a>
        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li class="active"><a href="#all_companies" data-toggle="tab"><i class="fa fa-cogs" aria-hidden="true"></i> &nbsp;&nbsp;<?php echo $this->lang->line('title'); ?></a></li>
            </ul>
        </div>
    </nav>
    <div class="tab-content">
        <div class="tab-pane fade active in" id="all_companies">
            <div class="box box-color animated zoomIn">
                <div class="box-header with-border" id="box-header-with-border">
                    <h3 class="box-title tab_title"><i class="fa fa-plus" aria-hidden="true"></i> &nbsp;&nbsp;<?php echo $this->lang->line('title'); ?></h3>
                    <div class="box-tools pull-right">
                        <a class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></a>
                        <a class="btn btn-box-tool" href="#all_items" data-toggle="tab" onclick="load_tab(0)"><i class="fa fa-times"></i></a>
                    </div>
                </div>
                <div class="box-body">
                    <?php echo form_open('', 'role="form" id="company_form"'); ?>
                        <div class="row"><br>
                            <div class="col-md-3" ><center>
                                <div class="fileinput-new thumbnail" style="margin-bottom: 4px;width: 200px; height: 150px;">
                                    <img src="<?php echo base_url('images/no-image.png'); ?>" id="changeImg">
                                    <input type="file" name="company_logo" id="company_logo" style="display: none;" onchange="loadImage(this)"/>
                                </div></center>
                            </div>
                            <div class="col-md-9">
                                <div class="row">
                                    <div class="form-group col-sm-4">
                                        <label for="company_name">Company name</label>
                                        <input type="text" class="form-control" id="company_name" value="<?php echo $extra['company_name']; ?>" name="company_name">
                                    </div>
                                    <!-- <div class="form-group col-sm-4">
                                        <label for="">Default language</label>
                                        <?php //echo form_dropdown('company_default_language',array('english'=>'English','français'=>'Français','portuguese'=>'Portuguese','spanish'=>'Spanish','arabic'=>'Arabic','danish'=>'Danish','turkish'=>'Turkish','greek'=>'Greek'),$extra['company_default_language'] ,'class="form-control select2" id="company_default_language" required'); ?>
                                    </div> -->
                                    <div class="form-group col-sm-1">
                                        <label style="margin-top:30px;">Currency</label>
                                    </div>
                                    <div class="form-group col-sm-1">
                                        <label>Code</label>
                                        <input type="text" class="form-control" id="company_currency_code" name="company_currency_code" value="<?php echo $extra['company_currency_code']; ?>">
                                    </div>
                                    <div class="form-group col-sm-1">
                                        <label>Decimal</label>
                                        <input type="text" class="form-control" id="company_currency_decimal" name="company_currency_decimal" value="<?php echo $extra['company_currency_decimal']; ?>">
                                    </div>
                                    <div class="form-group col-sm-1">
                                        <label for="company_currency_symbol">Symbol</label>
                                        <input type="text" class="form-control" id="company_currency_symbol" name="company_currency_symbol" value="<?php echo $extra['company_currency_symbol']; ?>">
                                    </div>
                                </div><br>
                                <div class="row">
                                    <!-- <div class="form-group col-sm-2">
                                        <label for="company_print_date_format">Print date format</label>
                                        <?php //echo form_dropdown('company_print_date_format',$timezone_arr,$extra['company_print_date_format'],'class="form-control select2" id="company_print_date_format" required'); ?>
                                    </div> -->
                                    <!-- <div class="form-group col-sm-2">
                                        <label for="company_rows_per_table">Display recode table</label>
                                        <input type="text" class="form-control" id="company_rows_per_table" name="company_rows_per_table" value="<?php //echo $extra['company_rows_per_table']; ?>">
                                    </div> -->
                                    <!-- <div class="form-group col-sm-2">
                                        <label for="company_file_max_size">File max size</label>
                                        <input type="text" class="form-control" id="company_file_max_size" name="company_file_max_size" value="<?php //echo $extra['company_file_max_size']; ?>">
                                    </div> -->
                                    <!-- <div class="form-group col-sm-2">
                                        <label for="company_notify_auto_hide">Notify auto hide</label>
                                        <input type="text" class="form-control" id="company_notify_auto_hide" name="company_notify_auto_hide" value="<?php //echo $extra['company_notify_auto_hide']; ?>">
                                    </div> -->
                                    <!-- <div class="form-group col-sm-2">
                                        <label for="company_notify_horizontal_position">Horizontal position</label>
                                        <?php //echo form_dropdown('company_notify_horizontal_position',$timezone_arr,$extra['company_notify_horizontal_position'],'class="form-control select2" id="company_notify_horizontal_position" required'); ?>
                                    </div> -->
                                    <!-- <div class="form-group col-sm-2">
                                        <label for="company_notify_vertical_position">Vertical position</label>
                                        <?php //echo form_dropdown('company_notify_vertical_position',$timezone_arr,$extra['company_notify_vertical_position'],'class="form-control select2" id="company_notify_vertical_position" required'); ?>
                                    </div> -->
                                </div>
                            </div>
                        </div>
                        <hr>
                        <div class="text-right m-t-xs">
                            <button class="btn btn-primary" type="submit">Save & Next</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <div class="tab-pane fade" id="new_branches">
            <?php echo $detail; ?>
        </div>
    </div>
</section>
<script type="text/javascript">
var company_auto_id;
$(document).ready(function() {
    window.company_auto_id  = 1;
    $('#company_form').bootstrapValidator({
        live: 'enabled',
        message: 'This value is not valid.',
        excluded: [':disabled'],
        fields: {
            company_name:{validators:{notEmpty:{message: 'Company name is required.'}}},
            company_currency_code:{validators:{notEmpty:{message: 'Currency Code is required.'}}},
            company_currency_decimal:{validators:{notEmpty:{message: 'Decimal is required.'}}},
            company_currency_symbol:{validators:{notEmpty:{message: 'Currency Symbol is required.'}}},
        },
    }).on('success.form.bv', function (e) {
        e.preventDefault();
        var $form = $(e.target);
        var bv = $form.data('bootstrapValidator');
        var data = $form.serializeArray();
        data.push({'name':'company_auto_id', 'value': window.company_auto_id});
        $.ajax({
            type: 'post',
            dataType: 'json',
            data: data,
            url: "<?php echo site_url('company/save_company'); ?>",
            beforeSend: function () {
                start_loading();
            },
            success: function (data) {
                stop_loading();
                simple_alert(data['log_status'],data['title'],data['message']);
                if (data['status']) {
                    window.company_auto_id = null;
                }
            },
            error: function () {
                stop_loading();
                simple_alert(6,'e','Error occurred');
            }
        });
    });
});
</script>
